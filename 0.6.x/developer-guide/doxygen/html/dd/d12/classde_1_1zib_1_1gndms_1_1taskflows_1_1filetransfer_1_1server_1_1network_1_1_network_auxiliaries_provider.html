<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GNDMS: de.zib.gndms.taskflows.filetransfer.server.network.NetworkAuxiliariesProvider Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../gndms-logo-150x120.png"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNDMS&#160;<span id="projectnumber">0.6.0</span></div>
   <div id="projectbrief">RESTful verison of GNDMS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>de</b>      </li>
      <li class="navelem"><b>zib</b>      </li>
      <li class="navelem"><b>gndms</b>      </li>
      <li class="navelem"><a class="el" href="../../d4/d37/namespacede_1_1zib_1_1gndms_1_1taskflows.html">taskflows</a>      </li>
      <li class="navelem"><b>filetransfer</b>      </li>
      <li class="navelem"><b>server</b>      </li>
      <li class="navelem"><b>network</b>      </li>
      <li class="navelem"><a class="el" href="../../dd/d12/classde_1_1zib_1_1gndms_1_1taskflows_1_1filetransfer_1_1server_1_1network_1_1_network_auxiliaries_provider.html">NetworkAuxiliariesProvider</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="#pac-static-methods">Static Package Functions</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<h1>de.zib.gndms.taskflows.filetransfer.server.network.NetworkAuxiliariesProvider Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="de::zib::gndms::taskflows::filetransfer::server::network::NetworkAuxiliariesProvider" -->
<p><a href="../../d3/d89/classde_1_1zib_1_1gndms_1_1taskflows_1_1filetransfer_1_1server_1_1network_1_1_network_auxiliaries_provider-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa59c45e4e8e472956eb325dcf39a0c0a"></a><!-- doxytag: member="de::zib::gndms::taskflows::filetransfer::server::network::NetworkAuxiliariesProvider::getGridFTPClientFactory" ref="aa59c45e4e8e472956eb325dcf39a0c0a" args="()" -->
static GridFTPClientFactory&#160;</td><td class="memItemRight" valign="bottom"><b>getGridFTPClientFactory</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a429b7dfd830803aab7835b36a735d5c2"></a><!-- doxytag: member="de::zib::gndms::taskflows::filetransfer::server::network::NetworkAuxiliariesProvider::getBandWidthEstimater" ref="a429b7dfd830803aab7835b36a735d5c2" args="()" -->
static <a class="el" href="../../db/d91/interfacede_1_1zib_1_1gndms_1_1taskflows_1_1filetransfer_1_1server_1_1network_1_1_band_width_estimater.html">BandWidthEstimater</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getBandWidthEstimater</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa387ded6913ae7848a846595c4681742"></a><!-- doxytag: member="de::zib::gndms::taskflows::filetransfer::server::network::NetworkAuxiliariesProvider::newGNDMSFileTransfer" ref="aa387ded6913ae7848a846595c4681742" args="()" -->
static <a class="el" href="../../dc/d4a/classde_1_1zib_1_1gndms_1_1taskflows_1_1filetransfer_1_1server_1_1network_1_1_g_n_d_m_s_file_transfer.html">GNDMSFileTransfer</a>&#160;</td><td class="memItemRight" valign="bottom"><b>newGNDMSFileTransfer</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d12/classde_1_1zib_1_1gndms_1_1taskflows_1_1filetransfer_1_1server_1_1network_1_1_network_auxiliaries_provider.html#a73db9b71b06a18cced06a4467face579">calculateTransferTime</a> (long size, float bandWidth, int min)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculated the transfer-time in milli-seconds.  <a href="#a73db9b71b06a18cced06a4467face579"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1a93fde6872ff7b6fbeef8d6eda509e1"></a><!-- doxytag: member="de::zib::gndms::taskflows::filetransfer::server::network::NetworkAuxiliariesProvider::getBufferSize" ref="a1a93fde6872ff7b6fbeef8d6eda509e1" args="()" -->
static Integer&#160;</td><td class="memItemRight" valign="bottom"><b>getBufferSize</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa09d3e1f21575752363b310690c56bc1"></a><!-- doxytag: member="de::zib::gndms::taskflows::filetransfer::server::network::NetworkAuxiliariesProvider::setBufferSize" ref="aa09d3e1f21575752363b310690c56bc1" args="(Integer bufferSize)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><b>setBufferSize</b> (Integer bufferSize)</td></tr>
<tr><td colspan="2"><h2><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae1c2a216a3731e4e09f9b81cf100dd5f"></a><!-- doxytag: member="de::zib::gndms::taskflows::filetransfer::server::network::NetworkAuxiliariesProvider::logger" ref="ae1c2a216a3731e4e09f9b81cf100dd5f" args="" -->
static Logger&#160;</td><td class="memItemRight" valign="bottom"><b>logger</b> = LoggerFactory.getLogger( NetworkAuxiliariesProvider.class )</td></tr>
<tr><td colspan="2"><h2><a name="pac-static-methods"></a>
Static Package Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5f1eaf4651ddb94dc0ab40efc93f734a"></a><!-- doxytag: member="de::zib::gndms::taskflows::filetransfer::server::network::NetworkAuxiliariesProvider::[static initializer]" ref="a5f1eaf4651ddb94dc0ab40efc93f734a" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>[static initializer]</b></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1a33401fe96a43d8da21c9a4ebfe5551"></a><!-- doxytag: member="de::zib::gndms::taskflows::filetransfer::server::network::NetworkAuxiliariesProvider::gridFTPClientFactoryClass" ref="a1a33401fe96a43d8da21c9a4ebfe5551" args="" -->
static final Class<br class="typebreak"/>
&lt; <a class="el" href="../../db/d55/classde_1_1zib_1_1gndms_1_1taskflows_1_1filetransfer_1_1server_1_1network_1_1_nonblocking_client_factory.html">NonblockingClientFactory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>gridFTPClientFactoryClass</b> = NonblockingClientFactory.class</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3ad9c881b9ae8fa8c72481edbd79afe"></a><!-- doxytag: member="de::zib::gndms::taskflows::filetransfer::server::network::NetworkAuxiliariesProvider::gridFTPClientFactory" ref="ab3ad9c881b9ae8fa8c72481edbd79afe" args="" -->
static final GridFTPClientFactory&#160;</td><td class="memItemRight" valign="bottom"><b>gridFTPClientFactory</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0c9f4f68d944d66de64c695ea5eb200"></a><!-- doxytag: member="de::zib::gndms::taskflows::filetransfer::server::network::NetworkAuxiliariesProvider::bandWidthEstimater" ref="ac0c9f4f68d944d66de64c695ea5eb200" args="" -->
static final <a class="el" href="../../db/d91/interfacede_1_1zib_1_1gndms_1_1taskflows_1_1filetransfer_1_1server_1_1network_1_1_band_width_estimater.html">BandWidthEstimater</a>&#160;</td><td class="memItemRight" valign="bottom"><b>bandWidthEstimater</b> = new <a class="el" href="../../d9/d9c/classde_1_1zib_1_1gndms_1_1taskflows_1_1filetransfer_1_1server_1_1network_1_1_static_band_width_estimater.html">StaticBandWidthEstimater</a>()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada90febbd4b57e82a0af7fdc43cf9dd7"></a><!-- doxytag: member="de::zib::gndms::taskflows::filetransfer::server::network::NetworkAuxiliariesProvider::bufferSize" ref="ada90febbd4b57e82a0af7fdc43cf9dd7" args="" -->
static Integer&#160;</td><td class="memItemRight" valign="bottom"><b>bufferSize</b> = null</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><dl class="author"><dt><b>Author:</b></dt><dd>try ma ik jo rr a zib </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>$Id$ </dd></dl>
<p>User: mjorra, Date: 01.10.2008, Time: 10:51:58</p>
<p>Usage of the network package for a file transfer:</p>
<p>Use the GridFTPClientFactory provided by this class to create an GridFTPClient. Given that this class is correctly set up and returns the desired factory, the GridFTPClient, should be configured to your needs, e.g. with the correct security setup.</p>
<p>Then create a <a class="el" href="../../dc/d4a/classde_1_1zib_1_1gndms_1_1taskflows_1_1filetransfer_1_1server_1_1network_1_1_g_n_d_m_s_file_transfer.html">GNDMSFileTransfer</a>, and add a map with the files which should be transferred, the source and destination directory and client to the instance.</p>
<p>If it is of interest how big the download is, you can uses the GNDMSFileTransfer.estimateSize method to acquire the size of the files in byte. Together with a descent implementation of the <a class="el" href="../../db/d91/interfacede_1_1zib_1_1gndms_1_1taskflows_1_1filetransfer_1_1server_1_1network_1_1_band_width_estimater.html" title="An Interface for an Bandwith estimator.">BandWidthEstimater</a> interface this can be used to predict the duration of a transfer, using the calculateTransferTime method of this class.</p>
<p>To make your transfer reliable you should instantiate the persistentMarkerListener, supply it with a fresh instance of a FTPTransferState, which must have a unique transferId. Then use the performPersistentFileTransfer method of your <a class="el" href="../../dc/d4a/classde_1_1zib_1_1gndms_1_1taskflows_1_1filetransfer_1_1server_1_1network_1_1_g_n_d_m_s_file_transfer.html">GNDMSFileTransfer</a> instance to trigger the transfer.</p>
<p>An aborted transfer can be easily resumed, by setting the same <a class="el" href="../../dc/d4a/classde_1_1zib_1_1gndms_1_1taskflows_1_1filetransfer_1_1server_1_1network_1_1_g_n_d_m_s_file_transfer.html">GNDMSFileTransfer</a> up again, Loading the transfer state object from the database, setting it into a new persistentMarkerListener and calling performPersistenFileTransfer with this listener again.</p>
<p>See TransferStatTest.testIt for an code example of the described procedure. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a73db9b71b06a18cced06a4467face579"></a><!-- doxytag: member="de::zib::gndms::taskflows::filetransfer::server::network::NetworkAuxiliariesProvider::calculateTransferTime" ref="a73db9b71b06a18cced06a4467face579" args="(long size, float bandWidth, int min)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static long de.zib.gndms.taskflows.filetransfer.server.network.NetworkAuxiliariesProvider.calculateTransferTime </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>bandWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculated the transfer-time in milli-seconds. </p>
<p>To catch possible rounding errors, which may occur when the transfer size is to small and the connection is very fast. A minimal value for the transfer time can be provided (see the <em>min</em> parameter).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The transfer file size in byte. </td></tr>
    <tr><td class="paramname">bandWidth</td><td>The bandwidth in byte/s </td></tr>
    <tr><td class="paramname">min</td><td>The minimum time which is returned if the calculated time is smaller. If min is &lt; 1 it will be ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The transfer-time in ms. </dd></dl>
<div class="fragment"><pre class="fragment">                                                                                   {

        <span class="keywordtype">long</span> tt = Float.valueOf( size * 1000 / bandWidth ).longValue( );

        <span class="keywordflow">if</span> ( min &gt; 0 &amp;&amp; tt &lt; min )
            tt = min;

        <span class="keywordflow">return</span> tt;
    }
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>taskflows/fileTransfer/server/src/de/zib/gndms/taskflows/filetransfer/server/network/NetworkAuxiliariesProvider.java</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Feb 15 2012 15:07:03 for GNDMS by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
