<?xml version='1.0' encoding='UTF-8'?>
<schema targetNamespace="http://gndms.zib.de/common/types"
        xmlns:impl="http://gndms.zib.de/common/types"
        elementFormDefault="qualified" version="1.0" xmlns="http://www.w3.org/2001/XMLSchema"
        xml:lang="EN">

<simpleType name="UUIDT">
	<restriction base="string">
	    <pattern value="[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}"/>
	</restriction>
</simpleType>

<complexType name="StorageSizeT">
	<sequence>
		<element name="StorageSizeValue" type="positiveInteger" />
		<element name="StorageSizeUnit" type="string" />
	</sequence>
</complexType>

<element name="TotalStorageSize" type="impl:StorageSizeT" />
<element name="AvailableStorageSize" type="impl:StorageSizeT" />


<element name="SubspaceSpecifier" type="QName" />

<element name="SliceKind" type="QName" />

<element name="SliceLocation" type="anyURI" />

<simpleType name="FilenameT">
	<!--
		This excludes ., .., and all pathnames containing one of <,>,',",:,;,&,/,\,|,#,$,`

		 This is defensive programming to prevent the worst when somebody forgets to
		 properly escape filenames in staging scripts
	-->
	<restriction base="normalizedString">
		<pattern value="([^.'&lt;&gt;$#&quot;:;&amp;/\\\|`][^'&lt;&gt;$#&quot;:;&amp;/\\\|`]*|
\.[^.'&lt;&gt;$#&quot;:;&amp;/\\\|`][^'&lt;&gt;$#&quot;:;&amp;/\\\|`]*|
[^.'&lt;&gt;$#&quot;:;&amp;/\\\|`]+)" />
	</restriction>
</simpleType>

<element name="File" type="impl:FilenameT" id="File" />

<complexType name="FileT">
	<sequence>
		<element ref="impl:File" minOccurs="1" maxOccurs="1"/>
	</sequence>
</complexType>

<complexType name="FileSeqT">
	<sequence>
		<element ref="impl:File" minOccurs="0" maxOccurs="unbounded"/>
	</sequence>
</complexType>

<complexType name="FileMapT">
	<sequence>
		<element name="From" type="impl:FileT" minOccurs="1" maxOccurs="1" />
		<element name="To" type="impl:FileT" minOccurs="1" maxOccurs="1" />
	</sequence>
</complexType>	

<element name="FileMap" type="impl:FileMapT" id="FileMap" />

<complexType name="FileMappingSeqT">
	<sequence>
		<element ref="impl:FileMap" minOccurs="0" maxOccurs="unbounded" />
	</sequence>
</complexType>

<element name="Lofi" type="impl:FileT" />
<element name="LofiSet" type="impl:FileSeqT" />
<element name="LofiMap" type="impl:FileMappingSeqT" />

</schema>
