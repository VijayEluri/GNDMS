<?xml version="1.0"?>
<project default="enhance" name="Runs the OpenJPA enhancer" basedir=".">

<taskdef name="openjpac" classname="org.apache.openjpa.ant.PCEnhancerTask">
	<classpath>
		<fileset dir="../extra/tools-lib" id="tooljars">
			<include  name="*.jar" />
		</fileset>
	</classpath>
</taskdef>

<target name="enhance" description="Calls the openjpa enhancer ant task on all classed in gndms-shared-model/production">

	<openjpac directory="gndms-shared-model/production">
		<config propertiesFile="src/META-INF/persistence.xml" />

		<classpath>
			<pathelement location="gndms-shared-model/production" />
			<fileset refid="tooljars" />
		</classpath>

		<fileset dir="gndms-shared-model/production">
			<include name="de/zib/gndms/model/**/*" />
			<exclude name="de/zib/gndms/model/*" />
		</fileset>
		
	</openjpac>
</target>

</project>